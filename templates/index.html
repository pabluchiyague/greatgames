{% extends "base.html" %}

{% block title %}GreatGames - Home{% endblock %}

{% block content %}
<div class="hero" style="text-align:center; margin-top:50px;">
    <h1>Welcome to GreatGames üéÆ</h1>
    <p style="color: var(--secondary-blue);">A Letterboxd-style platform for gamers.</p>

    {% if not current_user %}
    <a href="{{ url_for('auth.register') }}" class="btn btn-primary" style="margin-top:20px;">Join Now</a>
    {% endif %}
</div>

<hr style="margin: 40px 0;">

<h2>Top Rated Games</h2>
<div class="game-grid">
    {% if featured_games %}
        {% for game in featured_games %}
        <a href="{{ url_for('games.game_detail', game_id=game.id) }}" class="game-card">
			<div class="game-card-cover">
				<img src="{{ game.cover_image_url or url_for('static', filename='images/default_cover.jpg') }}" alt="{{ game.title }}">
			</div>
			<div class="game-card-info">
				<h3 class="game-card-title">{{ game.title }}</h3>
				<p class="game-card-meta">{{ game.genre }} | ‚≠ê {{ "%.1f"|format(game.average_rating) }}</p>
			</div>
		</a>
        {% endfor %}
    {% else %}
        <p>No games found yet. Add some from the admin panel!</p>
    {% endif %}
</div>

<hr style="margin: 40px 0;">

<h2>Recent Reviews</h2>
<div class="review-list">
    {% if recent_reviews %}
        {% for r in recent_reviews %}
        <div class="review-card">
            <h3>{{ r.title }}</h3>
            <p><strong>{{ r.username }}</strong> rated it ‚≠ê {{ r.rating }}/10</p>
            <p>{{ r.review_text[:120] }}...</p>
        </div>
        {% endfor %}
    {% else %}
        <p>No reviews yet.</p>
    {% endif %}
</div>
{% endblock %}